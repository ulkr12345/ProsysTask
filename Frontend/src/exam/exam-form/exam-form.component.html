<div class="container">
    <div class="row">
      <div class="col-md-6">
        <h2 class="table-title mt-3">İmtahan əlavə et</h2>
        <div class="form-contrainer mt-4">
          <form [formGroup]="examForm" (ngSubmit)="onSubmit()">
            
            <div class="form-group mt-3">
              <label class="form-label">Fənn</label>
              <ng-select 
                class="w-100"
                [items]="subjectList" 
                bindLabel="displayLabel" 
                bindValue="code"
                formControlName="subjectCode"
                [clearable]="!!examForm.get('subjectCode')?.value"
                [ngClass]="{ 'border-red': examForm.controls.subjectCode.errors && formSubmitted }">
              </ng-select>
              <p class="text-danger" *ngIf="formSubmitted && examForm.controls.subjectCode.errors">
                Fənn seçilməlidir!
              </p>
            </div>

            <div class="form-group mt-3">
              <label class="form-label">Şagird</label>
              <ng-select 
                class="w-100"
                [items]="studentList" 
                bindLabel="displayLabel" 
                bindValue="no"
                formControlName="studentNo"
                [clearable]="!!examForm.get('studentNo')?.value"
                [ngClass]="{ 'border-red': examForm.controls.studentNo.errors && formSubmitted }">
              </ng-select>
              <p class="text-danger" *ngIf="formSubmitted && examForm.controls.studentNo.errors">
                Şagird seçilməlidir!
              </p>
            </div>
  
            <div class="form-group mt-3">
              <label class="form-label">İmtahan tarixi</label>
              <input 
                type="date" 
                class="form-control" 
                formControlName="examDate"
                [ngClass]="{ 'border-danger': examForm.controls.examDate.errors && formSubmitted }" />
              <p class="text-danger" *ngIf="formSubmitted && examForm.controls.examDate.errors">
                İmtahan tarixi tələb olunur!
              </p>
            </div>
  
            <div class="form-group mt-3">
              <label class="form-label">Qiymət</label>
              <input 
                type="number" 
                class="form-control" 
                placeholder="Qiymət (2-5)"
                formControlName="score"
                [ngClass]="{ 'border-danger': examForm.controls.score.errors && formSubmitted }" />
              <p class="text-danger" *ngIf="formSubmitted && examForm.controls.score.errors?.['required']">
                Qiymət tələb olunur!
              </p>
              <p class="text-danger" *ngIf="formSubmitted && (examForm.controls.score.errors?.['min'] || examForm.controls.score.errors?.['max'])">
                Qiymət 2-5 aralığında olmalıdır!
              </p>
            </div>
  
            <div>
              <button type="submit" class="btn btn-primary w-100 mt-3">
                Yadda saxla
              </button>
            </div>
  
          </form>
        </div>
      </div>
    </div>
  </div>
  